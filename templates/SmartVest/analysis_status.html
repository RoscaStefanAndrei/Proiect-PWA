{% extends 'base.html' %}

{% block title %}Analysis Status{% endblock %}

{% block content %}
<div class="text-center mt-5">
    {% if running %}
    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
        <span class="visually-hidden">Loading...</span>
    </div>
    <h3 class="mt-3">Analysis in Progress...</h3>
    <p>Please wait. Do not close the server (you can close this tab).</p>
    <a href="{% url 'analysis-status' %}" class="btn btn-outline-primary mt-3">Refresh Status</a>
    {% else %}
    <div class="text-success mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" class="bi bi-check-circle"
            viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
            <path
                d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z" />
        </svg>
    </div>
    <h3>Analysis Complete or Idle</h3>
    <p>You can now view the latest results.</p>
    <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
        <a href="{% url 'view-results' %}" class="btn btn-primary btn-lg px-4 gap-3">View Results</a>
        <a href="{% url 'run-analysis' %}" class="btn btn-outline-secondary btn-lg px-4">Run Again</a>
    </div>
    {% endif %}
</div>
{% endblock %}